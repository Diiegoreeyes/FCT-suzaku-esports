<div class="form-wrapper">
  <form (ngSubmit)="onSubmit()" [formGroup]="usuarioForm" class="form-card">
    <h2 class="form-title">Crear Usuario</h2>

    <div class="form-group">
      <label for="nombre">Nombre</label>
      <input id="nombre" formControlName="nombre" type="text" />
      <small *ngIf="usuarioForm.get('nombre')?.touched && usuarioForm.get('nombre')?.invalid">
        El nombre es requerido.
      </small>
    </div>

    <div class="form-group">
      <label for="apellidos">Apellidos</label>
      <input id="apellidos" formControlName="apellidos" type="text" />
      <small *ngIf="usuarioForm.get('apellidos')?.touched && usuarioForm.get('apellidos')?.invalid">
        Los apellidos son requeridos.
      </small>
    </div>

    <div class="form-group">
      <label for="email">Correo Electrónico</label>
      <input id="email" formControlName="email" type="email" />
      <small *ngIf="usuarioForm.get('email')?.touched && usuarioForm.get('email')?.invalid">
        Ingresa un correo válido.
      </small>
    </div>

    <div class="form-group password-group">
      <label for="password">Contraseña</label>
      <div class="password-wrapper">
        <input
          id="password"
          [type]="showPassword ? 'text' : 'password'"
          formControlName="password"
        />
        <button type="button" (click)="togglePassword()" class="btn-toggle">
          {{ showPassword ? 'Ocultar' : 'Mostrar' }}
        </button>
      </div>
      <small *ngIf="usuarioForm.get('password')?.touched && usuarioForm.get('password')?.invalid">
        La contraseña debe tener al menos 6 caracteres.
      </small>
    </div>

    <div class="form-group password-group">
      <label for="confirmPassword">Repite Contraseña</label>
      <div class="password-wrapper">
        <input
          id="confirmPassword"
          [type]="showConfirmPassword ? 'text' : 'password'"
          formControlName="confirmPassword"
        />
        <button type="button" (click)="toggleConfirmPassword()" class="btn-toggle">
          {{ showConfirmPassword ? 'Ocultar' : 'Mostrar' }}
        </button>
      </div>
      <small *ngIf="passwordsNotMatching">
        Las contraseñas no coinciden.
      </small>
    </div>

    <div class="form-group">
      <label for="direccion">Dirección</label>
      <input id="direccion" formControlName="direccion" type="text" />
    </div>

    <div class="form-group">
      <label for="foto">Foto</label>
      <input id="foto" type="file" (change)="onFileChange($event)" />
    </div>

    <button type="submit" [disabled]="usuarioForm.invalid" class="btn-submit">
      Crear Usuario
    </button>
  </form>
</div>
