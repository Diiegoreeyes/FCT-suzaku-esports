<section class="productos-layout">
  <!-- Filtros a la izquierda -->
  <aside class="sidebar-filtros">
    <h3>Filtrar Productos</h3>

    <input
      type="text"
      [(ngModel)]="filtroNombre"
      placeholder="Buscar por nombre"
      class="input-filtro"
    />

    <input
      type="number"
      [(ngModel)]="precioMin"
      placeholder="Precio mínimo"
      class="input-filtro"
    />

    <input
      type="number"
      [(ngModel)]="precioMax"
      placeholder="Precio máximo"
      class="input-filtro"
    />

    <button (click)="aplicarFiltros()" class="btn-filtrar">Aplicar Filtros</button>
    <button (click)="resetFiltros()" class="btn-reset">Reiniciar</button>
  </aside>

  <div class="contenido-productos">
    <h2>Lista de Productos</h2>
  
    <!-- Contenedor grid -->
    <div class="productos-container">
      <a
        *ngFor="let p of productosFiltrados; trackBy: trackProducto"
        [routerLink]="['/producto', p.id]"
        class="producto-card"
        style="text-decoration: none; color: inherit;"
      >
        <h3 class="producto-titulo">{{ p.nombre }}</h3>
        <p class="precio">{{ p.precio }} €</p>
  
        <!-- Imagen con colores superpuestos -->
        <div class="imagen-con-colores">
          <img
            [src]="getProductoFoto(p.imagen_principal)"
            alt="{{ p.nombre }}"
            class="producto-img"
            [attr.data-id]="p.id"
          />
          <div class="colores-sobre-imagen-vertical" *ngIf="p.colores?.length">
            <span
              class="circle-color"
              *ngFor="let c of p.colores"
              [style.backgroundColor]="c.codigo_hex || '#ccc'">
            </span>
          </div>
        </div>
  
        <!-- Tallas -->
        <div class="talla-group" *ngIf="p.tallas?.length">
          <span class="badge-talla" *ngFor="let t of p.tallas">{{ t.nombre }}</span>
        </div>
      </a>
    </div>
  </div>
  

</section>
